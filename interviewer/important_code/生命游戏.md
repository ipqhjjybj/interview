class Solution {
public:
    int n, m;
    int eight_position[8][2]={
        {-1, -1},
        {-1, 0},
        {-1, 1},
        {0, -1},
        {0, 1},
        {1, -1},
        {1, 0},
        {1, 1}
    };
    int live_xibao(vector<vector<int>>& board, int x, int y){
        int num = 0;
        for(int i = 0;i < 8;i++){
            int ni = eight_position[i][0] + x;
            int nj = eight_position[i][1] + y;
            if(ni >=0 && ni < n && nj >=0 && nj < m){
                if(board[ni][nj]){
                    num += 1;
                }
            }
        }
        return num;
    }
    void gameOfLife(vector<vector<int>>& board) {
        auto tempboard = board;
        n = board.size();
        m = board[0].size();
        for(int i = 0;i < n; i++){
            for(int j = 0;j < m;j++){
                int u = live_xibao(board, i, j);
                // live
                if(board[i][j]){
                    if(u == 2 || u == 3){
                        tempboard[i][j] = 1;
                    }else{
                        tempboard[i][j] = 0;
                    }
                }else{ // dead
                    if(u == 3){
                        tempboard[i][j] = 1;
                    }
                }
            }
        }
        board = tempboard;
    }
};